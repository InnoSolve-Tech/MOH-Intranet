<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Partner Dashboard - Individual View</title>
    <link rel="stylesheet" href="../css/global.css" />
    <link rel="stylesheet" href="../css/dashboard.css" />
    <link rel="stylesheet" href="../css/admin-dashboard.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ag-grid-community@31.0.0/dist/ag-grid-community.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  </head>
  <body>
    <div class="dashboard-container">
      <!-- Sidebar -->
      <div id="sidebar-container"></div>
      <!-- Main Content -->
      <main class="main-content">
        <header class="content-header">
          <h1>Partner Dashboard</h1>
          <div class="header-actions">
            <button class="btn btn-secondary" onclick="refreshData()">
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"
                />
              </svg>
              Refresh Data
            </button>
          </div>
        </header>

        <div class="content-body">
          <div class="charts-grid">
            <div class="chart-card">
              <div class="chart-header">
                <h3>Thematic Areas Coverage</h3>
                <button
                  class="btn btn-sm btn-secondary"
                  onclick="exportChart('thematicAreasChart')"
                >
                  Export
                </button>
              </div>
              <div class="chart-container">
                <canvas id="thematicAreasChart"></canvas>
              </div>
            </div>

            <div class="chart-card">
              <div class="chart-header">
                <h3>Support Years Timeline</h3>
                <button
                  class="btn btn-sm btn-secondary"
                  onclick="exportChart('supportYearsChart')"
                >
                  Export
                </button>
              </div>
              <div class="chart-container">
                <canvas id="supportYearsChart"></canvas>
              </div>
            </div>

            <div class="chart-card">
              <div class="chart-header">
                <h3>District Coverage</h3>
                <button
                  class="btn btn-sm btn-secondary"
                  onclick="exportChart('districtsChart')"
                >
                  Export
                </button>
              </div>
              <div class="chart-container">
                <canvas id="districtsChart"></canvas>
              </div>
            </div>

            <div class="chart-card">
              <div class="chart-header">
                <h3>Subcounty Coverage (Top 10)</h3>
                <button
                  class="btn btn-sm btn-secondary"
                  onclick="exportChart('subcountiesChart')"
                >
                  Export
                </button>
              </div>
              <div class="chart-container">
                <canvas id="subcountiesChart"></canvas>
              </div>
            </div>
          </div>

          <!-- Trends Section -->
          <div id="trends-section" class="report-section">
            <div class="section-header">
              <h3>Trends Analysis</h3>
              <div class="trend-controls">
                <select id="trendPeriod" onchange="updateTrends()">
                  <option value="monthly">Monthly</option>
                  <option value="quarterly">Quarterly</option>
                  <option value="yearly">Yearly</option>
                </select>
              </div>
            </div>

            <div class="trends-grid">
              <div class="trend-card">
                <div class="card-header">
                  <h4>Registration Trends</h4>
                  <div class="trend-indicator positive">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <path d="M7,14L12,9L17,14H7Z" />
                    </svg>
                    +15%
                  </div>
                </div>
                <div class="chart-container">
                  <canvas id="registrationTrendsChart"></canvas>
                </div>
              </div>

              <div class="trend-card">
                <div class="card-header">
                  <h4>Thematic Focus Shifts</h4>
                  <div class="trend-indicator neutral">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <path
                        d="M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z"
                      />
                    </svg>
                    Stable
                  </div>
                </div>
                <div class="chart-container">
                  <canvas id="thematicTrendsChart"></canvas>
                </div>
              </div>

              <div class="trend-card">
                <div class="card-header">
                  <h4>Geographic Expansion</h4>
                  <div class="trend-indicator positive">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <path d="M7,14L12,9L17,14H7Z" />
                    </svg>
                    +8%
                  </div>
                </div>
                <div class="chart-container">
                  <canvas id="geographicTrendsChart"></canvas>
                </div>
              </div>

              <div class="trend-card">
                <div class="card-header">
                  <h4>Partnership Duration</h4>
                  <div class="trend-indicator negative">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <path d="M7,10L12,15L17,10H7Z" />
                    </svg>
                    -3%
                  </div>
                </div>
                <div class="chart-container">
                  <canvas id="durationTrendsChart"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script src="../js/dashboard.js"></script>
    <script src="../js/user-dashboard.js"></script>
  </body>
</html>
