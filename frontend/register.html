<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Partner Registration - Ministry of Health Uganda</title>
    <!-- Added global.css import before specific styles -->
    <link rel="stylesheet" href="css/global.css" />
    <link rel="stylesheet" href="css/register.css" />
  </head>
  <body>
    <!-- Combined branding and stepper into a single header at the top -->
    <div class="page-header">
      <div class="branding-header">
        <div class="logo-section">
          <img
            src="./images/logo.png?height=60&width=60"
            alt="Ministry of Health Uganda"
            class="ministry-logo"
          />
          <div class="branding-text">
            <h1>Ministry of Health Uganda</h1>
            <p>Partner Registration System</p>
          </div>
        </div>
      </div>

      <div class="stepper-container">
        <div class="stepper">
          <div class="step active" data-step="1">
            <div class="step-number">1</div>
            <div class="step-title">Basic Info</div>
          </div>
          <div class="step" data-step="2">
            <div class="step-number">2</div>
            <div class="step-title">Contacts & MoU</div>
          </div>
          <div class="step" data-step="3">
            <div class="step-number">3</div>
            <div class="step-title">Support Details</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Removed stepper from inside the card and simplified header -->
    <div class="container registration-container">
      <form id="registrationForm">
        <!-- Step 1: Basic Information -->
        <div class="form-step active" data-step="1">
          <div class="form-row">
            <div class="form-group">
              <label for="partnerName">Partner Name *</label>
              <input type="text" id="partnerName" name="partnerName" required />
            </div>
            <div class="form-group">
              <label for="acronym">Acronym *</label>
              <input type="text" id="acronym" name="acronym" required />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="partnerType">Partner Type *</label>
              <!-- Updated Partner Type options to only Local and International -->
              <select id="partnerType" name="partnerType" required>
                <option value="">Select Type</option>
                <option value="Local">Local</option>
                <option value="International">International</option>
              </select>
            </div>
            <div class="form-group">
              <label for="category">Category *</label>
              <!-- Updated Category dropdown to be dynamically populated -->
              <select id="category" name="category" required>
                <option value="">Select Category</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="officialPhone">Official Phone Number *</label>
              <input
                type="tel"
                id="officialPhone"
                name="officialPhone"
                required
              />
            </div>
            <div class="form-group">
              <label for="officialEmail">Official Email *</label>
              <input
                type="email"
                id="officialEmail"
                name="officialEmail"
                required
              />
            </div>
          </div>

          <!-- Simplified address capture to single input field -->
          <div class="dynamic-section">
            <h4>Addresses</h4>
            <div id="addressesContainer">
              <div class="address-item">
                <input
                  type="text"
                  name="addresses[0]"
                  placeholder="Enter full address (e.g., 123 Main St, Kampala, Uganda)"
                  required
                />
              </div>
            </div>
            <button type="button" class="add-btn" onclick="addAddress()">
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
              </svg>
              Add Address
            </button>
          </div>
        </div>

        <!-- Step 2: Contacts and MoU -->
        <div class="form-step" data-step="2">
          <div class="dynamic-section">
            <h4>Additional Contacts</h4>
            <div id="contactsContainer">
              <div class="contact-item">
                <div class="form-row">
                  <div class="form-group">
                    <input
                      type="text"
                      name="contacts[0][name]"
                      placeholder="Contact Name *"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <input
                      type="text"
                      name="contacts[0][position]"
                      placeholder="Position *"
                      required
                    />
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <input
                      type="tel"
                      name="contacts[0][phone]"
                      placeholder="Phone Number *"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <input
                      type="email"
                      name="contacts[0][email]"
                      placeholder="Email Address *"
                      required
                    />
                  </div>
                </div>
              </div>
            </div>
            <button type="button" class="add-btn" onclick="addContact()">
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
              </svg>
              Add Contact
            </button>
          </div>

          <div class="checkbox-group">
            <input type="checkbox" id="hasMou" name="hasMou" />
            <label for="hasMou">We have signed an MoU</label>
          </div>

          <div class="form-group" id="mouUpload" style="display: none">
            <label for="mouFile">Upload MoU Document</label>
            <input
              type="file"
              id="mouFile"
              name="mouFile"
              accept=".pdf,.doc,.docx"
            />
          </div>
        </div>

        <!-- Step 3: Support Details -->
        <div class="form-step" data-step="3">
          <div class="dynamic-section">
            <h4>Support Years</h4>
            <div id="supportYearsContainer">
              <div class="dynamic-item">
                <div class="form-row">
                  <div class="form-group">
                    <label>Year *</label>
                    <input
                      type="number"
                      name="supportYears[0][year]"
                      min="2020"
                      max="2030"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label>Level of Support *</label>
                    <!-- Updated Level options to National and District -->
                    <select
                      name="supportYears[0][level]"
                      class="level-select"
                      required
                      onchange="handleLevelChange(this, 0)"
                    >
                      <option value="">Select Level</option>
                      <option value="National">National</option>
                      <option value="District">District</option>
                    </select>
                  </div>
                </div>
                <div class="form-group">
                  <label>Thematic Areas Supported *</label>
                  <select name="supportYears[0][thematicAreas]" required>
                    <option value="">Select Thematic Area</option>
                    <option value="Health">Health</option>
                    <option value="Education">Education</option>
                    <option value="Agriculture">Agriculture</option>
                    <option value="Water and Sanitation">
                      Water and Sanitation
                    </option>
                    <option value="Nutrition">Nutrition</option>
                    <option value="Child Protection">Child Protection</option>
                    <option value="Gender Equality">Gender Equality</option>
                    <option value="Environment">Environment</option>
                    <option value="Economic Development">
                      Economic Development
                    </option>
                    <option value="Emergency Response">
                      Emergency Response
                    </option>
                    <option value="Governance">Governance</option>
                    <option value="Human Rights">Human Rights</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Districts Supported *</label>
                  <!-- Added conditional districts selection with coverage options -->
                  <select
                    name="supportYears[0][districts]"
                    class="districts-select"
                    required
                    onchange="handleDistrictChange(this, 0)"
                  >
                    <option value="Kampala">Kampala</option>
                    <option value="Wakiso">Wakiso</option>
                    <option value="Mukono">Mukono</option>
                    <option value="Jinja">Jinja</option>
                    <option value="Mbale">Mbale</option>
                    <option value="Gulu">Gulu</option>
                    <option value="Lira">Lira</option>
                    <option value="Mbarara">Mbarara</option>
                    <option value="Kasese">Kasese</option>
                    <option value="Fort Portal">Fort Portal</option>
                    <option value="Hoima">Hoima</option>
                    <option value="Masaka">Masaka</option>
                    <option value="Soroti">Soroti</option>
                    <option value="Arua">Arua</option>
                    <option value="Kabale">Kabale</option>
                    <option value="Moroto">Moroto</option>
                    <option value="Kitgum">Kitgum</option>
                    <option value="Pader">Pader</option>
                    <option value="Adjumani">Adjumani</option>
                    <option value="Moyo">Moyo</option>
                  </select>
                  <small class="district-help-text"
                    >Select districts based on level of support</small
                  >

                  <!-- Added district coverage options container -->
                  <div
                    class="district-coverage-container"
                    id="districtCoverage0"
                    style="display: none"
                  >
                    <h5>District Coverage</h5>
                    <div class="coverage-options" id="coverageOptions0"></div>
                  </div>
                </div>
              </div>
            </div>
            <button type="button" class="add-btn" onclick="addSupportYear()">
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
              </svg>
              Add Another Year
            </button>
          </div>
        </div>

        <!-- Navigation -->
        <div class="form-navigation">
          <button
            type="button"
            class="nav-btn prev-btn"
            onclick="previousStep()"
            style="display: none"
          >
            Previous
          </button>
          <button type="button" class="nav-btn next-btn" onclick="nextStep()">
            Next
          </button>
          <button
            type="submit"
            class="nav-btn submit-btn"
            style="display: none"
          >
            Submit Registration
          </button>
        </div>
      </form>
    </div>

    <script src="js/register.js"></script>
  </body>
</html>
